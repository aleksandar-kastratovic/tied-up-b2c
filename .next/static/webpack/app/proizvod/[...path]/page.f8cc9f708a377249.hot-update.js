"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/proizvod/[...path]/page",{

/***/ "(app-pages-browser)/./components/Variants/Variants.js":
/*!*****************************************!*\
  !*** ./components/Variants/Variants.js ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Variants; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction Variants(param) {\n    let { product, updateProductVariant, productSlug, handleURLChange, firstVariantOption } = param;\n    _s();\n    let variant_options = product.data.variant_options; // niz svih variant_options\n    let variant_items = product.data.variant_items; // niz svih varijanti proizvoda\n    let product_slug = productSlug; // slug proizvoda koji se prikazuje\n    let variant_product = null; // krajnji proizvod koji se prikazuje\n    const [selected, setSelected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]); // niz selektovanih variant_options\n    const [variantOptions, setVariantOptions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(variant_options); // niz variant_options koji se prikazuje\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // uzima item iz variant_items na osnovu slug-a\n        let selected_item = getSelectedItem(product_slug);\n        if (!selected_item) {\n            selected_item = handleVariantFirstOption();\n        }\n        // ako postoji item iz variant_items na osnovu slug-a i setuje se selected\n        if (selected_item) {\n            setSelected(selected_item.variant_key_array);\n        }\n        if (selected_item) {\n            variant_product = selected_item;\n            updateProductVariant(variant_product);\n        }\n        handleVariantOptionChange();\n    }, [\n        selected\n    ]);\n    // setuje prve opcije variant_options-a ukoliko je firstVariantOption true\n    const handleVariantFirstOption = ()=>{\n        if (firstVariantOption && selected.length === 0) {\n            return variant_items[0];\n        }\n        return null;\n    };\n    //menja URL na osnovu selektovanih variant_options\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        var _variant_product_categories;\n        if ((variant_product === null || variant_product === void 0 ? void 0 : (_variant_product_categories = variant_product.categories) === null || _variant_product_categories === void 0 ? void 0 : _variant_product_categories.length) > 0) {\n            var _variant_product_categories_;\n            handleURLChange(\"/\".concat(variant_product === null || variant_product === void 0 ? void 0 : (_variant_product_categories_ = variant_product.categories[0]) === null || _variant_product_categories_ === void 0 ? void 0 : _variant_product_categories_.slug, \"/\").concat(variant_product === null || variant_product === void 0 ? void 0 : variant_product.slug));\n        } else {\n            handleURLChange(variant_product === null || variant_product === void 0 ? void 0 : variant_product.slug);\n        }\n    }, [\n        product_slug\n    ]);\n    // ako nema slug-a u URL-u, uzima prvi item iz variant_items i setuje ga kao selected\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const getProduct = ()=>{\n            if (!product_slug) {\n                variant_product = getSelectedItem(product_slug);\n            }\n        };\n        getProduct();\n    }, [\n        product_slug\n    ]);\n    // uzima item iz variant_items na osnovu slug-a\n    const getSelectedItem = (slug)=>{\n        let t_item = null;\n        variant_items.map((item)=>{\n            if (item.slug == slug) {\n                t_item = item;\n            }\n        });\n        return t_item;\n    };\n    // funkcija koja variant_options setuje vrednost selected_value, selected i display\n    const setVariantOptionsVisible = (data)=>{\n        let options = [];\n        data.map((item)=>{\n            let t_item = {\n                attribute: item.attribute,\n                values: []\n            };\n            t_item.attribute[\"selected_value\"] = false;\n            item.values.map((value)=>{\n                let t_val = value;\n                t_val[\"display\"] = \"show\";\n                t_val[\"selected\"] = false;\n                t_item.values.push(t_val);\n            });\n            options.push(t_item);\n        });\n        return options;\n    };\n    // funkcija koja trazi variant_items koji odgovaraju selektovanim variant_options\n    const getSelectedVariants = (selected, variant_items)=>{\n        let options = [];\n        variant_items.map((item)=>{\n            let t_count = 0;\n            if (selected.length) {\n                selected.map((temp_condition)=>{\n                    item.variant_key_array.map((temp_variant_key_array)=>{\n                        if (temp_condition.attribute_key == temp_variant_key_array.attribute_key && temp_condition.value_key == temp_variant_key_array.value_key) {\n                            t_count += 1;\n                        }\n                    });\n                });\n            }\n            if (t_count == selected.length) {\n                options.push(item);\n            }\n        });\n        return options;\n    };\n    // funkcija koja vraca proizvod na osnovu selektovanih variant_options\n    const getProductVariant = ()=>{\n        let options = getSelectedVariants(selected, variant_items);\n        let product = [];\n        if (options.length == 1) {\n            product = options[0];\n        }\n        return product;\n    };\n    // funkcija koja oznacuje variant_options koja je selektovana\n    const selectVariantOptions = (variant_options, attribute_key, value_key)=>{\n        variant_options.map((item)=>{\n            if (item.attribute.key == attribute_key) {\n                item.values.map((value)=>{\n                    if (value.key == value_key) {\n                        value.selected = true;\n                        item.attribute.selected_value = true;\n                    }\n                });\n            }\n        });\n        return variant_options;\n    };\n    // funkcija koja vraca niz variant_options koji nisu selektovani\n    const getNotSelectedVariantOptions = (variant_options)=>{\n        let options = [];\n        variant_options.map((item)=>{\n            if (!item.attribute.selected_value) {\n                options.push(item.attribute.key);\n            }\n        });\n        return options;\n    };\n    // funkcija koja izbacuje duplikate iz niza\n    const removeDuplicates = (arr)=>{\n        return arr.filter((item, index)=>arr.indexOf(item) === index);\n    };\n    // funkcija koja vraca niz vrednosti za prikaz na osnovu selektovanih variant_options\n    const setValuesFromVariantOptions = (selected_variants, temp_not_selected)=>{\n        let options = [];\n        selected_variants.map((item)=>{\n            item.variant_key_array.map((variant_key_array)=>{\n                if (variant_key_array.attribute_key == temp_not_selected) {\n                    options.push(variant_key_array.value_key);\n                }\n            });\n        });\n        return removeDuplicates(options);\n    };\n    // funkcija koja postavlja vrednosti za prikaz na osnovu selektovanih variant_options\n    const setValuesForShowToVariantOptions = (variant_options, temp_not_selected, values_to_show)=>{\n        variant_options.map((item)=>{\n            if (item.attribute.key == temp_not_selected) {\n                item.values.map((value)=>{\n                    if (values_to_show.indexOf(value.key) == -1) {\n                        value.display = \"hide\";\n                    } else {\n                        value.display = \"show\";\n                    }\n                });\n            }\n        });\n        return variant_options;\n    };\n    // funkcija koja menja stanje variant_options\n    const handleVariantOptionChange = ()=>{\n        variant_options = setVariantOptionsVisible(variant_options);\n        if (selected.length) {\n            let check_selected = [];\n            selected.map((temp_select)=>{\n                variant_options = selectVariantOptions(variant_options, temp_select.attribute_key, temp_select.value_key);\n                check_selected.push(temp_select);\n                let selected_variants = getSelectedVariants(check_selected, variant_items);\n                let not_selected = getNotSelectedVariantOptions(variant_options);\n                if (not_selected.length) {\n                    not_selected.map((temp_not_selected)=>{\n                        let values_to_show = setValuesFromVariantOptions(selected_variants, temp_not_selected);\n                        variant_options = setValuesForShowToVariantOptions(variant_options, temp_not_selected, values_to_show);\n                    });\n                }\n            });\n        }\n        setVariantOptions(variant_options);\n    };\n    // onChangeHandler funkcija za selektovanje variant_options nakon odabira vrednosti\n    const onChangeHandler = (attribute_key, value_key)=>{\n        let temp_selected = selected;\n        let temp_selected_item = {\n            attribute_key: attribute_key,\n            value_key: value_key\n        };\n        let temp_index = temp_selected.findIndex((x)=>x.attribute_key == temp_selected_item.attribute_key);\n        if (temp_index > -1) {\n            temp_selected[temp_index] = temp_selected_item;\n            temp_selected.map((temp_selected_item, index)=>{\n                if (index > temp_index) {\n                    temp_selected.splice(index, temp_selected.length - index);\n                }\n            });\n        } else {\n            temp_selected.push(temp_selected_item);\n        }\n        setSelected(temp_selected);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col  gap-3 max-lg:w-full  2xl:w-1/2\",\n        children: variantOptions.map((item)=>{\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex max-sm:bg-[#f0f0f0] max-sm:text-right max-sm:flex-row max-sm:rounded max-sm:justify-between max-sm:items-center flex-col gap-0.5\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        htmlFor: item.id,\n                        className: \"max-lg:text-left max-sm:text-sm max-sm:w-[10rem] max-sm:uppercase max-sm:pl-2 max-sm:rounded\",\n                        children: item.attribute.name\n                    }, void 0, false, {\n                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/tideup/components/Variants/Variants.js\",\n                        lineNumber: 282,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                        id: item.id,\n                        name: item.attribute.key,\n                        className: \"w-full max-sm:text-right max-sm:float-right max-sm:p-2  border-none focus:border-none focus:ring-0 bg-[#f0f0f0] max-sm:flex max-sm:justify-end\",\n                        onChange: (e)=>{\n                            onChangeHandler(item.attribute.key, e.target.value);\n                            handleVariantOptionChange();\n                            variant_product = getProductVariant();\n                            if (variant_product) {\n                                var _variant_product_categories;\n                                updateProductVariant(variant_product);\n                                if ((variant_product === null || variant_product === void 0 ? void 0 : (_variant_product_categories = variant_product.categories) === null || _variant_product_categories === void 0 ? void 0 : _variant_product_categories.length) > 0) {\n                                    var _variant_product_categories_;\n                                    handleURLChange(\"/\".concat(variant_product === null || variant_product === void 0 ? void 0 : (_variant_product_categories_ = variant_product.categories[0]) === null || _variant_product_categories_ === void 0 ? void 0 : _variant_product_categories_.slug, \"/\").concat(variant_product === null || variant_product === void 0 ? void 0 : variant_product.slug));\n                                } else {\n                                    handleURLChange(variant_product === null || variant_product === void 0 ? void 0 : variant_product.slug);\n                                }\n                                product_slug = variant_product === null || variant_product === void 0 ? void 0 : variant_product.slug;\n                            } else {\n                                updateProductVariant(null);\n                            }\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                children: \"Izaberite\"\n                            }, void 0, false, {\n                                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/tideup/components/Variants/Variants.js\",\n                                lineNumber: 313,\n                                columnNumber: 15\n                            }, this),\n                            item.values.map((value)=>{\n                                let display = value.display;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: value.key,\n                                    selected: value.selected,\n                                    style: {\n                                        display: value.display\n                                    },\n                                    className: display === \"show\" ? \"block max-sm:text-right\" : \"hidden\",\n                                    children: value.name\n                                }, value.id, false, {\n                                    fileName: \"/Applications/XAMPP/xamppfiles/htdocs/tideup/components/Variants/Variants.js\",\n                                    lineNumber: 317,\n                                    columnNumber: 19\n                                }, this);\n                            })\n                        ]\n                    }, item.id, true, {\n                        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/tideup/components/Variants/Variants.js\",\n                        lineNumber: 288,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Applications/XAMPP/xamppfiles/htdocs/tideup/components/Variants/Variants.js\",\n                lineNumber: 281,\n                columnNumber: 11\n            }, this);\n        })\n    }, void 0, false, {\n        fileName: \"/Applications/XAMPP/xamppfiles/htdocs/tideup/components/Variants/Variants.js\",\n        lineNumber: 278,\n        columnNumber: 5\n    }, this);\n}\n_s(Variants, \"hGNpdMfeNxvWV49J41vGxZJ2FdQ=\");\n_c = Variants;\nvar _c;\n$RefreshReg$(_c, \"Variants\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvVmFyaWFudHMvVmFyaWFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQzRDO0FBQzdCLFNBQVNFLFNBQVMsS0FNaEM7UUFOZ0MsRUFDL0JDLE9BQU8sRUFDUEMsb0JBQW9CLEVBQ3BCQyxXQUFXLEVBQ1hDLGVBQWUsRUFDZkMsa0JBQWtCLEVBQ25CLEdBTmdDOztJQU8vQixJQUFJQyxrQkFBa0JMLFFBQVFNLElBQUksQ0FBQ0QsZUFBZSxFQUFFLDJCQUEyQjtJQUMvRSxJQUFJRSxnQkFBZ0JQLFFBQVFNLElBQUksQ0FBQ0MsYUFBYSxFQUFFLCtCQUErQjtJQUMvRSxJQUFJQyxlQUFlTixhQUFhLG1DQUFtQztJQUNuRSxJQUFJTyxrQkFBa0IsTUFBTSxxQ0FBcUM7SUFFakUsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUdkLCtDQUFRQSxDQUFDLEVBQUUsR0FBRyxtQ0FBbUM7SUFDakYsTUFBTSxDQUFDZSxnQkFBZ0JDLGtCQUFrQixHQUFHaEIsK0NBQVFBLENBQUNRLGtCQUFrQix3Q0FBd0M7SUFFL0dQLGdEQUFTQSxDQUFDO1FBQ1IsK0NBQStDO1FBQy9DLElBQUlnQixnQkFBZ0JDLGdCQUFnQlA7UUFFcEMsSUFBSSxDQUFDTSxlQUFlO1lBQ2xCQSxnQkFBZ0JFO1FBQ2xCO1FBRUEsMEVBQTBFO1FBQzFFLElBQUlGLGVBQWU7WUFDakJILFlBQVlHLGNBQWNHLGlCQUFpQjtRQUM3QztRQUVBLElBQUlILGVBQWU7WUFDakJMLGtCQUFrQks7WUFDbEJiLHFCQUFxQlE7UUFDdkI7UUFFQVM7SUFDRixHQUFHO1FBQUNSO0tBQVM7SUFFYiwwRUFBMEU7SUFDMUUsTUFBTU0sMkJBQTJCO1FBQy9CLElBQUlaLHNCQUFzQk0sU0FBU1MsTUFBTSxLQUFLLEdBQUc7WUFDL0MsT0FBT1osYUFBYSxDQUFDLEVBQUU7UUFDekI7UUFDQSxPQUFPO0lBQ1Q7SUFFQSxrREFBa0Q7SUFDbERULGdEQUFTQSxDQUFDO1lB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QWlCWSxJQUFJOzRCQUN0QyxPQUFPO2dDQUNMcEIscUJBQXFCOzRCQUN2Qjt3QkFDRjs7MENBRUEsOERBQUMwRTswQ0FBTzs7Ozs7OzRCQUNQbEQsS0FBS0ksTUFBTSxDQUFDTCxHQUFHLENBQUMsQ0FBQ007Z0NBQ2hCLElBQUl3QixVQUFVeEIsTUFBTXdCLE9BQU87Z0NBQzNCLHFCQUNFLDhEQUFDcUI7b0NBRUM3QyxPQUFPQSxNQUFNVyxHQUFHO29DQUNoQi9CLFVBQVVvQixNQUFNcEIsUUFBUTtvQ0FDeEJrRSxPQUFPO3dDQUFFdEIsU0FBU3hCLE1BQU13QixPQUFPO29DQUFDO29DQUNoQ1ksV0FDRVosWUFBWSxTQUFVLDRCQUE0Qjs4Q0FHbkR4QixNQUFNd0MsSUFBSTttQ0FSTnhDLE1BQU11QyxFQUFFOzs7Ozs0QkFXbkI7O3VCQXhDSzVDLEtBQUs0QyxFQUFFOzs7Ozs7Ozs7OztRQTRDcEI7Ozs7OztBQUdOO0dBN1V3QnRFO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvVmFyaWFudHMvVmFyaWFudHMuanM/N2VkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFZhcmlhbnRzKHtcbiAgcHJvZHVjdCxcbiAgdXBkYXRlUHJvZHVjdFZhcmlhbnQsXG4gIHByb2R1Y3RTbHVnLFxuICBoYW5kbGVVUkxDaGFuZ2UsXG4gIGZpcnN0VmFyaWFudE9wdGlvbixcbn0pIHtcbiAgbGV0IHZhcmlhbnRfb3B0aW9ucyA9IHByb2R1Y3QuZGF0YS52YXJpYW50X29wdGlvbnM7IC8vIG5peiBzdmloIHZhcmlhbnRfb3B0aW9uc1xuICBsZXQgdmFyaWFudF9pdGVtcyA9IHByb2R1Y3QuZGF0YS52YXJpYW50X2l0ZW1zOyAvLyBuaXogc3ZpaCB2YXJpamFudGkgcHJvaXp2b2RhXG4gIGxldCBwcm9kdWN0X3NsdWcgPSBwcm9kdWN0U2x1ZzsgLy8gc2x1ZyBwcm9penZvZGEga29qaSBzZSBwcmlrYXp1amVcbiAgbGV0IHZhcmlhbnRfcHJvZHVjdCA9IG51bGw7IC8vIGtyYWpuamkgcHJvaXp2b2Qga29qaSBzZSBwcmlrYXp1amVcblxuICBjb25zdCBbc2VsZWN0ZWQsIHNldFNlbGVjdGVkXSA9IHVzZVN0YXRlKFtdKTsgLy8gbml6IHNlbGVrdG92YW5paCB2YXJpYW50X29wdGlvbnNcbiAgY29uc3QgW3ZhcmlhbnRPcHRpb25zLCBzZXRWYXJpYW50T3B0aW9uc10gPSB1c2VTdGF0ZSh2YXJpYW50X29wdGlvbnMpOyAvLyBuaXogdmFyaWFudF9vcHRpb25zIGtvamkgc2UgcHJpa2F6dWplXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyB1emltYSBpdGVtIGl6IHZhcmlhbnRfaXRlbXMgbmEgb3Nub3Z1IHNsdWctYVxuICAgIGxldCBzZWxlY3RlZF9pdGVtID0gZ2V0U2VsZWN0ZWRJdGVtKHByb2R1Y3Rfc2x1Zyk7XG5cbiAgICBpZiAoIXNlbGVjdGVkX2l0ZW0pIHtcbiAgICAgIHNlbGVjdGVkX2l0ZW0gPSBoYW5kbGVWYXJpYW50Rmlyc3RPcHRpb24oKTtcbiAgICB9XG5cbiAgICAvLyBha28gcG9zdG9qaSBpdGVtIGl6IHZhcmlhbnRfaXRlbXMgbmEgb3Nub3Z1IHNsdWctYSBpIHNldHVqZSBzZSBzZWxlY3RlZFxuICAgIGlmIChzZWxlY3RlZF9pdGVtKSB7XG4gICAgICBzZXRTZWxlY3RlZChzZWxlY3RlZF9pdGVtLnZhcmlhbnRfa2V5X2FycmF5KTtcbiAgICB9XG5cbiAgICBpZiAoc2VsZWN0ZWRfaXRlbSkge1xuICAgICAgdmFyaWFudF9wcm9kdWN0ID0gc2VsZWN0ZWRfaXRlbTtcbiAgICAgIHVwZGF0ZVByb2R1Y3RWYXJpYW50KHZhcmlhbnRfcHJvZHVjdCk7XG4gICAgfVxuXG4gICAgaGFuZGxlVmFyaWFudE9wdGlvbkNoYW5nZSgpO1xuICB9LCBbc2VsZWN0ZWRdKTtcblxuICAvLyBzZXR1amUgcHJ2ZSBvcGNpamUgdmFyaWFudF9vcHRpb25zLWEgdWtvbGlrbyBqZSBmaXJzdFZhcmlhbnRPcHRpb24gdHJ1ZVxuICBjb25zdCBoYW5kbGVWYXJpYW50Rmlyc3RPcHRpb24gPSAoKSA9PiB7XG4gICAgaWYgKGZpcnN0VmFyaWFudE9wdGlvbiAmJiBzZWxlY3RlZC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB2YXJpYW50X2l0ZW1zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICAvL21lbmphIFVSTCBuYSBvc25vdnUgc2VsZWt0b3ZhbmloIHZhcmlhbnRfb3B0aW9uc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2YXJpYW50X3Byb2R1Y3Q/LmNhdGVnb3JpZXM/Lmxlbmd0aCA+IDApIHtcbiAgICAgIGhhbmRsZVVSTENoYW5nZShcbiAgICAgICAgYC8ke3ZhcmlhbnRfcHJvZHVjdD8uY2F0ZWdvcmllc1swXT8uc2x1Z30vJHt2YXJpYW50X3Byb2R1Y3Q/LnNsdWd9YFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlVVJMQ2hhbmdlKHZhcmlhbnRfcHJvZHVjdD8uc2x1Zyk7XG4gICAgfVxuICB9LCBbcHJvZHVjdF9zbHVnXSk7XG4gIC8vIGFrbyBuZW1hIHNsdWctYSB1IFVSTC11LCB1emltYSBwcnZpIGl0ZW0gaXogdmFyaWFudF9pdGVtcyBpIHNldHVqZSBnYSBrYW8gc2VsZWN0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBnZXRQcm9kdWN0ID0gKCkgPT4ge1xuICAgICAgaWYgKCFwcm9kdWN0X3NsdWcpIHtcbiAgICAgICAgdmFyaWFudF9wcm9kdWN0ID0gZ2V0U2VsZWN0ZWRJdGVtKHByb2R1Y3Rfc2x1Zyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBnZXRQcm9kdWN0KCk7XG4gIH0sIFtwcm9kdWN0X3NsdWddKTtcblxuICAvLyB1emltYSBpdGVtIGl6IHZhcmlhbnRfaXRlbXMgbmEgb3Nub3Z1IHNsdWctYVxuICBjb25zdCBnZXRTZWxlY3RlZEl0ZW0gPSAoc2x1ZykgPT4ge1xuICAgIGxldCB0X2l0ZW0gPSBudWxsO1xuICAgIHZhcmlhbnRfaXRlbXMubWFwKChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS5zbHVnID09IHNsdWcpIHtcbiAgICAgICAgdF9pdGVtID0gaXRlbTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdF9pdGVtO1xuICB9O1xuXG4gIC8vIGZ1bmtjaWphIGtvamEgdmFyaWFudF9vcHRpb25zIHNldHVqZSB2cmVkbm9zdCBzZWxlY3RlZF92YWx1ZSwgc2VsZWN0ZWQgaSBkaXNwbGF5XG4gIGNvbnN0IHNldFZhcmlhbnRPcHRpb25zVmlzaWJsZSA9IChkYXRhKSA9PiB7XG4gICAgbGV0IG9wdGlvbnMgPSBbXTtcbiAgICBkYXRhLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgbGV0IHRfaXRlbSA9IHtcbiAgICAgICAgYXR0cmlidXRlOiBpdGVtLmF0dHJpYnV0ZSxcbiAgICAgICAgdmFsdWVzOiBbXSxcbiAgICAgIH07XG5cbiAgICAgIHRfaXRlbS5hdHRyaWJ1dGVbXCJzZWxlY3RlZF92YWx1ZVwiXSA9IGZhbHNlO1xuXG4gICAgICBpdGVtLnZhbHVlcy5tYXAoKHZhbHVlKSA9PiB7XG4gICAgICAgIGxldCB0X3ZhbCA9IHZhbHVlO1xuICAgICAgICB0X3ZhbFtcImRpc3BsYXlcIl0gPSBcInNob3dcIjtcbiAgICAgICAgdF92YWxbXCJzZWxlY3RlZFwiXSA9IGZhbHNlO1xuXG4gICAgICAgIHRfaXRlbS52YWx1ZXMucHVzaCh0X3ZhbCk7XG4gICAgICB9KTtcblxuICAgICAgb3B0aW9ucy5wdXNoKHRfaXRlbSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfTtcblxuICAvLyBmdW5rY2lqYSBrb2phIHRyYXppIHZhcmlhbnRfaXRlbXMga29qaSBvZGdvdmFyYWp1IHNlbGVrdG92YW5pbSB2YXJpYW50X29wdGlvbnNcbiAgY29uc3QgZ2V0U2VsZWN0ZWRWYXJpYW50cyA9IChzZWxlY3RlZCwgdmFyaWFudF9pdGVtcykgPT4ge1xuICAgIGxldCBvcHRpb25zID0gW107XG4gICAgdmFyaWFudF9pdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIGxldCB0X2NvdW50ID0gMDtcbiAgICAgIGlmIChzZWxlY3RlZC5sZW5ndGgpIHtcbiAgICAgICAgc2VsZWN0ZWQubWFwKCh0ZW1wX2NvbmRpdGlvbikgPT4ge1xuICAgICAgICAgIGl0ZW0udmFyaWFudF9rZXlfYXJyYXkubWFwKCh0ZW1wX3ZhcmlhbnRfa2V5X2FycmF5KSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHRlbXBfY29uZGl0aW9uLmF0dHJpYnV0ZV9rZXkgPT1cbiAgICAgICAgICAgICAgICB0ZW1wX3ZhcmlhbnRfa2V5X2FycmF5LmF0dHJpYnV0ZV9rZXkgJiZcbiAgICAgICAgICAgICAgdGVtcF9jb25kaXRpb24udmFsdWVfa2V5ID09IHRlbXBfdmFyaWFudF9rZXlfYXJyYXkudmFsdWVfa2V5XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdF9jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRfY291bnQgPT0gc2VsZWN0ZWQubGVuZ3RoKSB7XG4gICAgICAgIG9wdGlvbnMucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfTtcblxuICAvLyBmdW5rY2lqYSBrb2phIHZyYWNhIHByb2l6dm9kIG5hIG9zbm92dSBzZWxla3RvdmFuaWggdmFyaWFudF9vcHRpb25zXG4gIGNvbnN0IGdldFByb2R1Y3RWYXJpYW50ID0gKCkgPT4ge1xuICAgIGxldCBvcHRpb25zID0gZ2V0U2VsZWN0ZWRWYXJpYW50cyhzZWxlY3RlZCwgdmFyaWFudF9pdGVtcyk7XG4gICAgbGV0IHByb2R1Y3QgPSBbXTtcblxuICAgIGlmIChvcHRpb25zLmxlbmd0aCA9PSAxKSB7XG4gICAgICBwcm9kdWN0ID0gb3B0aW9uc1swXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvZHVjdDtcbiAgfTtcblxuICAvLyBmdW5rY2lqYSBrb2phIG96bmFjdWplIHZhcmlhbnRfb3B0aW9ucyBrb2phIGplIHNlbGVrdG92YW5hXG4gIGNvbnN0IHNlbGVjdFZhcmlhbnRPcHRpb25zID0gKHZhcmlhbnRfb3B0aW9ucywgYXR0cmlidXRlX2tleSwgdmFsdWVfa2V5KSA9PiB7XG4gICAgdmFyaWFudF9vcHRpb25zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0uYXR0cmlidXRlLmtleSA9PSBhdHRyaWJ1dGVfa2V5KSB7XG4gICAgICAgIGl0ZW0udmFsdWVzLm1hcCgodmFsdWUpID0+IHtcbiAgICAgICAgICBpZiAodmFsdWUua2V5ID09IHZhbHVlX2tleSkge1xuICAgICAgICAgICAgdmFsdWUuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaXRlbS5hdHRyaWJ1dGUuc2VsZWN0ZWRfdmFsdWUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhcmlhbnRfb3B0aW9ucztcbiAgfTtcblxuICAvLyBmdW5rY2lqYSBrb2phIHZyYWNhIG5peiB2YXJpYW50X29wdGlvbnMga29qaSBuaXN1IHNlbGVrdG92YW5pXG4gIGNvbnN0IGdldE5vdFNlbGVjdGVkVmFyaWFudE9wdGlvbnMgPSAodmFyaWFudF9vcHRpb25zKSA9PiB7XG4gICAgbGV0IG9wdGlvbnMgPSBbXTtcbiAgICB2YXJpYW50X29wdGlvbnMubWFwKChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWl0ZW0uYXR0cmlidXRlLnNlbGVjdGVkX3ZhbHVlKSB7XG4gICAgICAgIG9wdGlvbnMucHVzaChpdGVtLmF0dHJpYnV0ZS5rZXkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBvcHRpb25zO1xuICB9O1xuXG4gIC8vIGZ1bmtjaWphIGtvamEgaXpiYWN1amUgZHVwbGlrYXRlIGl6IG5pemFcbiAgY29uc3QgcmVtb3ZlRHVwbGljYXRlcyA9IChhcnIpID0+IHtcbiAgICByZXR1cm4gYXJyLmZpbHRlcigoaXRlbSwgaW5kZXgpID0+IGFyci5pbmRleE9mKGl0ZW0pID09PSBpbmRleCk7XG4gIH07XG5cbiAgLy8gZnVua2NpamEga29qYSB2cmFjYSBuaXogdnJlZG5vc3RpIHphIHByaWtheiBuYSBvc25vdnUgc2VsZWt0b3ZhbmloIHZhcmlhbnRfb3B0aW9uc1xuICBjb25zdCBzZXRWYWx1ZXNGcm9tVmFyaWFudE9wdGlvbnMgPSAoXG4gICAgc2VsZWN0ZWRfdmFyaWFudHMsXG4gICAgdGVtcF9ub3Rfc2VsZWN0ZWRcbiAgKSA9PiB7XG4gICAgbGV0IG9wdGlvbnMgPSBbXTtcbiAgICBzZWxlY3RlZF92YXJpYW50cy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0udmFyaWFudF9rZXlfYXJyYXkubWFwKCh2YXJpYW50X2tleV9hcnJheSkgPT4ge1xuICAgICAgICBpZiAodmFyaWFudF9rZXlfYXJyYXkuYXR0cmlidXRlX2tleSA9PSB0ZW1wX25vdF9zZWxlY3RlZCkge1xuICAgICAgICAgIG9wdGlvbnMucHVzaCh2YXJpYW50X2tleV9hcnJheS52YWx1ZV9rZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiByZW1vdmVEdXBsaWNhdGVzKG9wdGlvbnMpO1xuICB9O1xuXG4gIC8vIGZ1bmtjaWphIGtvamEgcG9zdGF2bGphIHZyZWRub3N0aSB6YSBwcmlrYXogbmEgb3Nub3Z1IHNlbGVrdG92YW5paCB2YXJpYW50X29wdGlvbnNcbiAgY29uc3Qgc2V0VmFsdWVzRm9yU2hvd1RvVmFyaWFudE9wdGlvbnMgPSAoXG4gICAgdmFyaWFudF9vcHRpb25zLFxuICAgIHRlbXBfbm90X3NlbGVjdGVkLFxuICAgIHZhbHVlc190b19zaG93XG4gICkgPT4ge1xuICAgIHZhcmlhbnRfb3B0aW9ucy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLmF0dHJpYnV0ZS5rZXkgPT0gdGVtcF9ub3Rfc2VsZWN0ZWQpIHtcbiAgICAgICAgaXRlbS52YWx1ZXMubWFwKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgIGlmICh2YWx1ZXNfdG9fc2hvdy5pbmRleE9mKHZhbHVlLmtleSkgPT0gLTEpIHtcbiAgICAgICAgICAgIHZhbHVlLmRpc3BsYXkgPSBcImhpZGVcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUuZGlzcGxheSA9IFwic2hvd1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdmFyaWFudF9vcHRpb25zO1xuICB9O1xuXG4gIC8vIGZ1bmtjaWphIGtvamEgbWVuamEgc3RhbmplIHZhcmlhbnRfb3B0aW9uc1xuICBjb25zdCBoYW5kbGVWYXJpYW50T3B0aW9uQ2hhbmdlID0gKCkgPT4ge1xuICAgIHZhcmlhbnRfb3B0aW9ucyA9IHNldFZhcmlhbnRPcHRpb25zVmlzaWJsZSh2YXJpYW50X29wdGlvbnMpO1xuICAgIGlmIChzZWxlY3RlZC5sZW5ndGgpIHtcbiAgICAgIGxldCBjaGVja19zZWxlY3RlZCA9IFtdO1xuXG4gICAgICBzZWxlY3RlZC5tYXAoKHRlbXBfc2VsZWN0KSA9PiB7XG4gICAgICAgIHZhcmlhbnRfb3B0aW9ucyA9IHNlbGVjdFZhcmlhbnRPcHRpb25zKFxuICAgICAgICAgIHZhcmlhbnRfb3B0aW9ucyxcbiAgICAgICAgICB0ZW1wX3NlbGVjdC5hdHRyaWJ1dGVfa2V5LFxuICAgICAgICAgIHRlbXBfc2VsZWN0LnZhbHVlX2tleVxuICAgICAgICApO1xuXG4gICAgICAgIGNoZWNrX3NlbGVjdGVkLnB1c2godGVtcF9zZWxlY3QpO1xuICAgICAgICBsZXQgc2VsZWN0ZWRfdmFyaWFudHMgPSBnZXRTZWxlY3RlZFZhcmlhbnRzKFxuICAgICAgICAgIGNoZWNrX3NlbGVjdGVkLFxuICAgICAgICAgIHZhcmlhbnRfaXRlbXNcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgbm90X3NlbGVjdGVkID0gZ2V0Tm90U2VsZWN0ZWRWYXJpYW50T3B0aW9ucyh2YXJpYW50X29wdGlvbnMpO1xuXG4gICAgICAgIGlmIChub3Rfc2VsZWN0ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgbm90X3NlbGVjdGVkLm1hcCgodGVtcF9ub3Rfc2VsZWN0ZWQpID0+IHtcbiAgICAgICAgICAgIGxldCB2YWx1ZXNfdG9fc2hvdyA9IHNldFZhbHVlc0Zyb21WYXJpYW50T3B0aW9ucyhcbiAgICAgICAgICAgICAgc2VsZWN0ZWRfdmFyaWFudHMsXG4gICAgICAgICAgICAgIHRlbXBfbm90X3NlbGVjdGVkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdmFyaWFudF9vcHRpb25zID0gc2V0VmFsdWVzRm9yU2hvd1RvVmFyaWFudE9wdGlvbnMoXG4gICAgICAgICAgICAgIHZhcmlhbnRfb3B0aW9ucyxcbiAgICAgICAgICAgICAgdGVtcF9ub3Rfc2VsZWN0ZWQsXG4gICAgICAgICAgICAgIHZhbHVlc190b19zaG93XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRWYXJpYW50T3B0aW9ucyh2YXJpYW50X29wdGlvbnMpO1xuICB9O1xuXG4gIC8vIG9uQ2hhbmdlSGFuZGxlciBmdW5rY2lqYSB6YSBzZWxla3RvdmFuamUgdmFyaWFudF9vcHRpb25zIG5ha29uIG9kYWJpcmEgdnJlZG5vc3RpXG4gIGNvbnN0IG9uQ2hhbmdlSGFuZGxlciA9IChhdHRyaWJ1dGVfa2V5LCB2YWx1ZV9rZXkpID0+IHtcbiAgICBsZXQgdGVtcF9zZWxlY3RlZCA9IHNlbGVjdGVkO1xuXG4gICAgbGV0IHRlbXBfc2VsZWN0ZWRfaXRlbSA9IHtcbiAgICAgIGF0dHJpYnV0ZV9rZXk6IGF0dHJpYnV0ZV9rZXksXG4gICAgICB2YWx1ZV9rZXk6IHZhbHVlX2tleSxcbiAgICB9O1xuXG4gICAgbGV0IHRlbXBfaW5kZXggPSB0ZW1wX3NlbGVjdGVkLmZpbmRJbmRleChcbiAgICAgICh4KSA9PiB4LmF0dHJpYnV0ZV9rZXkgPT0gdGVtcF9zZWxlY3RlZF9pdGVtLmF0dHJpYnV0ZV9rZXlcbiAgICApO1xuXG4gICAgaWYgKHRlbXBfaW5kZXggPiAtMSkge1xuICAgICAgdGVtcF9zZWxlY3RlZFt0ZW1wX2luZGV4XSA9IHRlbXBfc2VsZWN0ZWRfaXRlbTtcbiAgICAgIHRlbXBfc2VsZWN0ZWQubWFwKCh0ZW1wX3NlbGVjdGVkX2l0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIGlmIChpbmRleCA+IHRlbXBfaW5kZXgpIHtcbiAgICAgICAgICB0ZW1wX3NlbGVjdGVkLnNwbGljZShpbmRleCwgdGVtcF9zZWxlY3RlZC5sZW5ndGggLSBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wX3NlbGVjdGVkLnB1c2godGVtcF9zZWxlY3RlZF9pdGVtKTtcbiAgICB9XG5cbiAgICBzZXRTZWxlY3RlZCh0ZW1wX3NlbGVjdGVkKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCAgZ2FwLTMgbWF4LWxnOnctZnVsbCAgMnhsOnctMS8yXCI+XG4gICAgICB7dmFyaWFudE9wdGlvbnMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1heC1zbTpiZy1bI2YwZjBmMF0gbWF4LXNtOnRleHQtcmlnaHQgbWF4LXNtOmZsZXgtcm93IG1heC1zbTpyb3VuZGVkIG1heC1zbTpqdXN0aWZ5LWJldHdlZW4gbWF4LXNtOml0ZW1zLWNlbnRlciBmbGV4LWNvbCBnYXAtMC41XCI+XG4gICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgaHRtbEZvcj17aXRlbS5pZH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWF4LWxnOnRleHQtbGVmdCBtYXgtc206dGV4dC1zbSBtYXgtc206dy1bMTByZW1dIG1heC1zbTp1cHBlcmNhc2UgbWF4LXNtOnBsLTIgbWF4LXNtOnJvdW5kZWRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aXRlbS5hdHRyaWJ1dGUubmFtZX1cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgIGtleT17aXRlbS5pZH1cbiAgICAgICAgICAgICAgaWQ9e2l0ZW0uaWR9XG4gICAgICAgICAgICAgIG5hbWU9e2l0ZW0uYXR0cmlidXRlLmtleX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIG1heC1zbTp0ZXh0LXJpZ2h0IG1heC1zbTpmbG9hdC1yaWdodCBtYXgtc206cC0yICBib3JkZXItbm9uZSBmb2N1czpib3JkZXItbm9uZSBmb2N1czpyaW5nLTAgYmctWyNmMGYwZjBdIG1heC1zbTpmbGV4IG1heC1zbTpqdXN0aWZ5LWVuZFwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlSGFuZGxlcihpdGVtLmF0dHJpYnV0ZS5rZXksIGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVWYXJpYW50T3B0aW9uQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgdmFyaWFudF9wcm9kdWN0ID0gZ2V0UHJvZHVjdFZhcmlhbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAodmFyaWFudF9wcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVQcm9kdWN0VmFyaWFudCh2YXJpYW50X3Byb2R1Y3QpO1xuICAgICAgICAgICAgICAgICAgaWYgKHZhcmlhbnRfcHJvZHVjdD8uY2F0ZWdvcmllcz8ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVVUkxDaGFuZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgYC8ke3ZhcmlhbnRfcHJvZHVjdD8uY2F0ZWdvcmllc1swXT8uc2x1Z30vJHt2YXJpYW50X3Byb2R1Y3Q/LnNsdWd9YFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlVVJMQ2hhbmdlKHZhcmlhbnRfcHJvZHVjdD8uc2x1Zyk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHByb2R1Y3Rfc2x1ZyA9IHZhcmlhbnRfcHJvZHVjdD8uc2x1ZztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdXBkYXRlUHJvZHVjdFZhcmlhbnQobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8b3B0aW9uPkl6YWJlcml0ZTwvb3B0aW9uPlxuICAgICAgICAgICAgICB7aXRlbS52YWx1ZXMubWFwKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBkaXNwbGF5ID0gdmFsdWUuZGlzcGxheTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPG9wdGlvblxuICAgICAgICAgICAgICAgICAgICBrZXk9e3ZhbHVlLmlkfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dmFsdWUua2V5fVxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZD17dmFsdWUuc2VsZWN0ZWR9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6IHZhbHVlLmRpc3BsYXkgfX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID09PSBcInNob3dcIiA/IGBibG9jayBtYXgtc206dGV4dC1yaWdodGAgOiBgaGlkZGVuYFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHt2YWx1ZS5uYW1lfVxuICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiVmFyaWFudHMiLCJwcm9kdWN0IiwidXBkYXRlUHJvZHVjdFZhcmlhbnQiLCJwcm9kdWN0U2x1ZyIsImhhbmRsZVVSTENoYW5nZSIsImZpcnN0VmFyaWFudE9wdGlvbiIsInZhcmlhbnRfb3B0aW9ucyIsImRhdGEiLCJ2YXJpYW50X2l0ZW1zIiwicHJvZHVjdF9zbHVnIiwidmFyaWFudF9wcm9kdWN0Iiwic2VsZWN0ZWQiLCJzZXRTZWxlY3RlZCIsInZhcmlhbnRPcHRpb25zIiwic2V0VmFyaWFudE9wdGlvbnMiLCJzZWxlY3RlZF9pdGVtIiwiZ2V0U2VsZWN0ZWRJdGVtIiwiaGFuZGxlVmFyaWFudEZpcnN0T3B0aW9uIiwidmFyaWFudF9rZXlfYXJyYXkiLCJoYW5kbGVWYXJpYW50T3B0aW9uQ2hhbmdlIiwibGVuZ3RoIiwiY2F0ZWdvcmllcyIsInNsdWciLCJnZXRQcm9kdWN0IiwidF9pdGVtIiwibWFwIiwiaXRlbSIsInNldFZhcmlhbnRPcHRpb25zVmlzaWJsZSIsIm9wdGlvbnMiLCJhdHRyaWJ1dGUiLCJ2YWx1ZXMiLCJ2YWx1ZSIsInRfdmFsIiwicHVzaCIsImdldFNlbGVjdGVkVmFyaWFudHMiLCJ0X2NvdW50IiwidGVtcF9jb25kaXRpb24iLCJ0ZW1wX3ZhcmlhbnRfa2V5X2FycmF5IiwiYXR0cmlidXRlX2tleSIsInZhbHVlX2tleSIsImdldFByb2R1Y3RWYXJpYW50Iiwic2VsZWN0VmFyaWFudE9wdGlvbnMiLCJrZXkiLCJzZWxlY3RlZF92YWx1ZSIsImdldE5vdFNlbGVjdGVkVmFyaWFudE9wdGlvbnMiLCJyZW1vdmVEdXBsaWNhdGVzIiwiYXJyIiwiZmlsdGVyIiwiaW5kZXgiLCJpbmRleE9mIiwic2V0VmFsdWVzRnJvbVZhcmlhbnRPcHRpb25zIiwic2VsZWN0ZWRfdmFyaWFudHMiLCJ0ZW1wX25vdF9zZWxlY3RlZCIsInNldFZhbHVlc0ZvclNob3dUb1ZhcmlhbnRPcHRpb25zIiwidmFsdWVzX3RvX3Nob3ciLCJkaXNwbGF5IiwiY2hlY2tfc2VsZWN0ZWQiLCJ0ZW1wX3NlbGVjdCIsIm5vdF9zZWxlY3RlZCIsIm9uQ2hhbmdlSGFuZGxlciIsInRlbXBfc2VsZWN0ZWQiLCJ0ZW1wX3NlbGVjdGVkX2l0ZW0iLCJ0ZW1wX2luZGV4IiwiZmluZEluZGV4IiwieCIsInNwbGljZSIsImRpdiIsImNsYXNzTmFtZSIsImxhYmVsIiwiaHRtbEZvciIsImlkIiwibmFtZSIsInNlbGVjdCIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsIm9wdGlvbiIsInN0eWxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/Variants/Variants.js\n"));

/***/ })

});